---
import BlowfishArticleMetaBasic from '../../components/article/BlowfishArticleMetaBasic.astro';
import BlowfishArticleMetaTaxonomy from '../../components/article/BlowfishArticleMetaTaxonomy.astro';
import BlowfishAuthor from '../../components/article/BlowfishAuthor.astro';
import BlowfishBreadcrumbs from '../../components/site/BlowfishBreadcrumbs.astro';
import BlowfishPagination from '../../components/site/BlowfishPagination.astro';
import BlowfishRelated from '../../components/article/BlowfishRelated.astro';
import BlowfishSeries from '../../components/article/BlowfishSeries.astro';
import BlowfishSharingLinks from '../../components/article/BlowfishSharingLinks.astro';
import BlowfishSiteLayout from '../../layouts/site/BlowfishSiteLayout.astro';
import BlowfishToc from '../../components/article/BlowfishToc.astro';
import BlowfishMetaDate from '../../components/meta/BlowfishMetaDate.astro';
import BlowfishMetaDateUpdated from '../../components/meta/BlowfishMetaDateUpdated.astro';
import BlowfishMetaEdit from '../../components/meta/BlowfishMetaEdit.astro';
import BlowfishMetaLikes from '../../components/meta/BlowfishMetaLikes.astro';
import BlowfishMetaLikesButton from '../../components/meta/BlowfishMetaLikesButton.astro';
import BlowfishMetaReadingTime from '../../components/meta/BlowfishMetaReadingTime.astro';
import BlowfishMetaViews from '../../components/meta/BlowfishMetaViews.astro';
import BlowfishMetaWordCount from '../../components/meta/BlowfishMetaWordCount.astro';
import BlowfishMetaZenMode from '../../components/meta/BlowfishMetaZenMode.astro';

const related = [
  { title: 'Related post 1', href: '#', summary: 'Deeper dive on template parity.', date: '2026-02-14', thumbnail: 'https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=900' },
  { title: 'Related post 2', href: '#', summary: 'Extending shortcodes in Astro.', date: '2026-02-13', thumbnail: 'https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=900' },
  { title: 'Related post 3', href: '#', summary: 'Search and metadata parity.', date: '2026-02-12', thumbnail: 'https://images.unsplash.com/photo-1518770660439-4636190af475?w=900' },
];
---

<BlowfishSiteLayout title="Single Template" nav={[{ label: 'Home', href: '/' }, { label: 'Theme List', href: '/theme/list' }]}> 
  <BlowfishBreadcrumbs items={[{ label: 'Home', href: '/' }, { label: 'Blog', href: '/theme/list' }, { label: 'Single Post' }]} />
  <article class="rounded-xl border border-neutral-300 bg-neutral-50/70 p-4 shadow-sm dark:border-neutral-700 dark:bg-neutral-800/60">
    <header>
      <h1 class="m-0 text-3xl font-bold">Single Post Template</h1>
      <BlowfishArticleMetaBasic date="2026-02-17" updated="2026-02-18" readingTime="5 min" wordCount={1200} />
      <div class="mt-2 flex flex-wrap items-center gap-2 text-sm text-neutral-500 dark:text-neutral-400">
        <BlowfishMetaDate date="2026-02-17T00:00:00Z" />
        <BlowfishMetaDateUpdated date="2026-02-18T00:00:00Z" />
        <BlowfishMetaReadingTime minutes={5} />
        <BlowfishMetaWordCount words={1200} />
        <BlowfishMetaEdit url="https://github.com/nunocoracao/blowfish" />
        <BlowfishMetaViews count={231} />
        <BlowfishMetaLikes count={45} />
        <BlowfishMetaLikesButton />
        <BlowfishMetaZenMode />
      </div>
      <BlowfishArticleMetaTaxonomy
        categories={[{ label: 'Engineering', href: '#' }]}
        tags={[{ label: 'astro', href: '/theme/term' }, { label: 'theme', href: '#' }]}
      />
    </header>

    <div class="mt-4 grid gap-4 lg:grid-cols-[minmax(0,1fr)_260px]">
      <section>
        <h2 id="intro" class="text-xl font-semibold">Introduction</h2>
        <p class="mt-2">This page now uses article partial components to better match Blowfish single template structure.</p>
        <h2 id="approach" class="mt-5 text-xl font-semibold">Approach</h2>
        <p class="mt-2">We split metadata, taxonomy, toc, sharing, related items, and series into reusable parts.</p>
      </section>
      <div>
        <BlowfishToc items={[{ id: 'intro', label: 'Introduction' }, { id: 'approach', label: 'Approach' }]} />
      </div>
    </div>

    <BlowfishSeries
      name="Theme Parity"
      items={[
        { title: 'Part 1: Homepage', href: '/homepage-layout' },
        { title: 'Part 2: Templates', href: '/theme/single', current: true },
        { title: 'Part 3: Runtime', href: '#' },
      ]}
    />

    <BlowfishSharingLinks url="https://example.com/theme/single" title="Single Post Template" />
    <BlowfishAuthor name="Sirui Li" headline="Tech lead | Staff software engineer" image="https://images.unsplash.com/photo-1633332755192-727a05c4013d?w=600" />
  </article>

  <BlowfishRelated items={related} />
  <BlowfishPagination prevHref="#" nextHref="#" />
</BlowfishSiteLayout>
