---
import BlowfishBaseLayout from '../layouts/BlowfishBaseLayout.astro';
import BlowfishHomepage from '../components/BlowfishHomepage.astro';
import '../styles/theme.css';

const recent = [
  {
    title: 'Migrating from Hugo Blowfish to Astro',
    summary: 'How to map shortcode and homepage layout settings.',
    date: '2026-02-17',
    href: '#',
    thumbnail: 'https://images.unsplash.com/photo-1518770660439-4636190af475?w=1000'
  },
  {
    title: 'Cloudflare Pages static deployment checklist',
    summary: 'Static output + no SSR recommendations.',
    date: '2026-02-16',
    href: '#',
    thumbnail: 'https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=1000'
  },
  {
    title: 'Theme package versioning strategy',
    summary: 'Reusable package workflow for multiple Astro sites.',
    date: '2026-02-15',
    href: '#',
    thumbnail: 'https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=1000'
  }
];

const profileConfig = {
  layout: 'profile',
  title: 'Sirui Li',
  subtitle: 'Tech lead | Staff software engineer',
  homepageImage: 'https://images.unsplash.com/photo-1633332755192-727a05c4013d?w=600',
  showRecent: true,
  showRecentItems: 2,
  links: [
    { label: 'GitHub', href: 'https://github.com' },
    { label: 'LinkedIn', href: 'https://linkedin.com' }
  ]
} as const;

const heroConfig = {
  layout: 'hero',
  title: 'Sirui Li',
  subtitle: 'Tech lead | Staff software engineer',
  homepageImage: 'https://images.unsplash.com/photo-1518770660439-4636190af475?w=1400',
  image: 'https://images.unsplash.com/photo-1633332755192-727a05c4013d?w=600',
  showRecent: true,
  showRecentItems: 2,
  links: [
    { label: 'GitHub', href: 'https://github.com' },
    { label: 'LinkedIn', href: 'https://linkedin.com' }
  ]
} as const;

const backgroundConfig = {
  layout: 'background',
  title: 'Sirui Li',
  subtitle: 'Tech lead | Staff software engineer',
  backgroundImage: 'https://images.unsplash.com/photo-1518773553398-650c184e0bb3?w=1600',
  image: 'https://images.unsplash.com/photo-1633332755192-727a05c4013d?w=600',
  showRecent: true,
  showRecentItems: 2,
  links: [
    { label: 'GitHub', href: 'https://github.com' },
    { label: 'LinkedIn', href: 'https://linkedin.com' }
  ]
} as const;

const cardConfig = {
  layout: 'card',
  title: 'Build Better Themes Faster',
  homepageImage: 'https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=1300',
  showRecent: true,
  showRecentItems: 3,
  cardView: true
} as const;

const pageConfig = {
  layout: 'page',
  title: 'Homepage Layout Page',
  showRecent: true,
  showRecentItems: 2
} as const;

const customConfig = {
  layout: 'custom',
  showRecent: true,
  showRecentItems: 2
} as const;

const prose = `<p>This is sample homepage content rendered as prose, similar to Blowfish home content sections.</p>`;
---

<BlowfishBaseLayout title="Homepage Layout Docs" description="Blowfish homepage layout compatibility demo">
  <header class="bf-card hl-hero">
    <h1>Homepage Layout Compatibility</h1>
    <p class="bf-muted">Updated to mirror Blowfish layout behavior more closely.</p>
    <a href="/" class="hl-back">Back to Components Docs</a>
  </header>

  <section class="bf-card hl-block">
    <h2>Profile Layout</h2>
    <BlowfishHomepage config={profileConfig} articles={recent} contentHtml={prose} />
  </section>

  <section class="bf-card hl-block">
    <h2>Hero Layout</h2>
    <BlowfishHomepage config={heroConfig} articles={recent} contentHtml={prose} />
  </section>

  <section class="bf-card hl-block">
    <h2>Background Layout</h2>
    <BlowfishHomepage config={backgroundConfig} articles={recent} contentHtml={prose} />
  </section>

  <section class="bf-card hl-block">
    <h2>Card Layout</h2>
    <BlowfishHomepage config={cardConfig} articles={recent} contentHtml={prose} />
  </section>

  <section class="bf-card hl-block">
    <h2>Page Layout</h2>
    <BlowfishHomepage config={pageConfig} articles={recent}>
      <p>This block mimics the page layout where the homepage content appears first.</p>
    </BlowfishHomepage>
  </section>

  <section class="bf-card hl-block">
    <h2>Custom Layout</h2>
    <BlowfishHomepage config={customConfig} articles={recent}>
      <article class="hl-custom-prose">
        <h3>Custom content area</h3>
        <p>Use your own Astro/MDX content while keeping recent article behavior.</p>
      </article>
    </BlowfishHomepage>
  </section>
</BlowfishBaseLayout>

<style>
  .hl-hero {
    padding: 1rem;
  }

  .hl-hero h1 {
    margin: 0;
    line-height: 1.2;
  }

  .hl-hero p {
    margin: 0.45rem 0 0;
  }

  .hl-back {
    display: inline-block;
    margin-top: 0.8rem;
    color: var(--bf-primary);
    text-decoration: none;
  }

  .hl-block {
    padding: 1rem;
  }

  .hl-block h2 {
    margin-top: 0;
    font-size: 1.1rem;
  }

  .hl-custom-prose {
    max-width: 760px;
  }
</style>
