---
import BlowfishAnalytics from '../../components/site/BlowfishAnalytics.astro';
import BlowfishHead from '../../components/site/BlowfishHead.astro';
import BlowfishFooter from '../../components/site/BlowfishFooter.astro';
import BlowfishHeader from '../../components/site/BlowfishHeader.astro';
import BlowfishSchema from '../../components/site/BlowfishSchema.astro';
import BlowfishScrollTop from '../../components/site/BlowfishScrollTop.astro';
import '../../styles/theme.css';

export interface Props {
  title?: string;
  description?: string;
  canonicalUrl?: string;
  image?: string;
  siteTitle?: string;
  nav?: { label: string; href: string }[];
  analyticsProvider?: 'ga' | 'fathom' | 'umami' | 'seline';
  analyticsId?: string;
  analyticsHost?: string;
  noindex?: boolean;
}

const {
  title = 'Blowfish Theme',
  description = '',
  canonicalUrl,
  image,
  siteTitle = 'Blowfish Astro Theme',
  nav = [],
  analyticsProvider,
  analyticsId,
  analyticsHost,
  noindex = false
} = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <BlowfishHead
      title={title}
      description={description}
      canonicalUrl={canonicalUrl}
      image={image}
      noindex={noindex}
    />
    <BlowfishSchema title={title} description={description} canonicalUrl={canonicalUrl} image={image} />
    <BlowfishAnalytics provider={analyticsProvider} id={analyticsId} host={analyticsHost} />
  </head>
  <body>
    <BlowfishHeader title={siteTitle} nav={nav} />
    <main class="bf-site-main">
      <slot />
    </main>
    <BlowfishFooter />
    <BlowfishScrollTop />
  </body>
</html>

<style>
  .bf-site-main {
    max-width: 1100px;
    margin: 0 auto;
    padding: 1.25rem 1rem;
  }
</style>
