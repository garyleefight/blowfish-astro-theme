---
import { pickString } from '../lib/props';

export interface Props {
  type?: 'bar' | 'line' | 'pie' | 'doughnut' | 'radar' | 'polarArea';
  chartType?: 'bar' | 'line' | 'pie' | 'doughnut' | 'radar' | 'polarArea';
  labels?: string;
  xLabels?: string;
  data?: string;
  series?: string;
  title?: string;
  heading?: string;
}

const props = Astro.props as Record<string, unknown>;
const type = pickString(props, ['type', 'chartType'], 'bar');
const labels = pickString(props, ['labels', 'xLabels'], '[]');
const data = pickString(props, ['data', 'series'], '[]');
const title = pickString(props, ['title', 'heading']);
---

<div class="bf-card bf-code" data-bf-chart data-type={type} data-labels={labels} data-data={data}>
  {title && <h4>{title}</h4>}
  <p class="bf-muted">Chart placeholder ({type}). Provide client chart runtime in host app.</p>
</div>

<style>
  .bf-code { padding: 0.9rem 1rem; }
  .bf-code h4 { margin: 0 0 0.35rem; }
</style>
