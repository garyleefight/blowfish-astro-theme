---
import { pickString } from '../lib/props';

export interface Props {
  config?: string;
  options?: string;
  chart?: string;
  type?: 'bar' | 'line' | 'pie' | 'doughnut' | 'radar' | 'polarArea';
  chartType?: 'bar' | 'line' | 'pie' | 'doughnut' | 'radar' | 'polarArea';
  labels?: string;
  xLabels?: string;
  data?: string;
  series?: string;
  title?: string;
  heading?: string;
}

const props = Astro.props as Record<string, unknown>;
const config = pickString(props, ['config', 'options', 'chart']);
const type = pickString(props, ['type', 'chartType'], 'bar');
const labels = pickString(props, ['labels', 'xLabels'], '[]');
const data = pickString(props, ['data', 'series'], '[]');
const title = pickString(props, ['title', 'heading']);
---

<div
  class="min-h-[260px] rounded-md border border-neutral-200 p-4 shadow-sm dark:border-neutral-700"
  data-bf-chart
  data-config={config}
  data-type={type}
  data-labels={labels}
  data-data={data}
>
  {title && <h4 class="mt-0 mb-2 text-base font-semibold">{title}</h4>}
</div>
