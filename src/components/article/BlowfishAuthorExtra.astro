---
import { t } from '../../lib/i18n';
import BlowfishAuthorLinks from './BlowfishAuthorLinks.astro';

interface AuthorData {
  name: string;
  bio?: string;
  image?: string;
  social?: { name: string; href: string }[];
}

export interface Props {
  data: AuthorData;
  link?: string;
}

const { data, link } = Astro.props;
---

<div class="author author-extra mt-4 flex">
  {data.image && <img src={data.image} alt={data.name} class="!mt-0 !mb-0 me-4 h-24 w-24 rounded-full object-cover" />}
  <div class="place-self-center">
    <div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">{t('author.byline_title')}</div>
    {link ? (
      <a href={link} class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">
        {data.name}
      </a>
    ) : (
      <div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">{data.name}</div>
    )}
    {data.bio && <div class="text-sm text-neutral-700 dark:text-neutral-400">{data.bio}</div>}
    <div class="text-2xl sm:text-lg">
      <BlowfishAuthorLinks links={data.social} />
    </div>
  </div>
</div>
