---
import { pickNumber, pickString } from '../lib/props';

export interface Props {
  url?: string;
  src?: string;
  path?: string;
  lang?: string;
  language?: string;
  title?: string;
  heading?: string;
  startLine?: number;
  from?: number;
  endLine?: number;
  to?: number;
}

const props = Astro.props as Record<string, unknown>;
const url = pickString(props, ['url', 'src', 'path']);
const lang = pickString(props, ['lang', 'language'], 'text');
const title = pickString(props, ['title', 'heading']);
const startLine = pickNumber(props, ['startLine', 'from'], 0);
const endLine = pickNumber(props, ['endLine', 'to'], 0);
---

<section class="bf-card bf-code-importer">
  {(title || url) && <p><strong>{title || 'Code Importer'}</strong>{url ? ` - ${url}` : ''}</p>}
  <pre><code>[code-import placeholder] lang={lang} lines={startLine || ''}-{endLine || ''}</code></pre>
</section>

<style>
  .bf-code-importer { padding: 0.8rem 1rem; }
  .bf-code-importer pre { overflow: auto; margin: 0.4rem 0 0; }
</style>
